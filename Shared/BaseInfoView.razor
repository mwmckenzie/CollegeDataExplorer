@using CollegeDataExplorer.Models
@if (baseInfoObj is not null) {
    <MudPaper Class="pa-4">

        <MudPaper Class="pa-4 mb-4">
            <MudText Class="my-1" Typo="Typo.body1" Color="Color.Tertiary">@objTitle</MudText>
            <MudText Typo="Typo.h3">@baseInfoObj.displayName</MudText>
            @if (!string.IsNullOrEmpty(baseInfoObj.url)) {
                <MudStack Row="true" Spacing="3" Class="my-1">
                    <MudIcon Icon="@Icons.Material.Filled.Link"></MudIcon>
                    <MudLink Href="@baseInfoObj.url" Target="_blank" Typo="Typo.body1">@baseInfoObj.url</MudLink>
                </MudStack>
            }

            @* <MudStack Row="true" Justify="Justify.SpaceBetween"> *@
            @*     <MudText Typo="Typo.body1">@baseInfoObj.displayName</MudText> *@
            @* </MudStack> *@

            @if (baseInfoObj.Tags().ToList().Count > 0) {
                @foreach (var tag in baseInfoObj.Tags()) {
                    <MudChip Text="@tag" Color="Color.Primary">@tag</MudChip>
                }
            }
        </MudPaper>

        @if (baseInfoObj.aliasList.Count > 1 ||
             baseInfoObj.urlList.Count > 1 ||
             baseInfoObj.noteList.Count > 0) {
            <MudPaper Class="pa-4 mb-4">
                <MudList Clickable="true">
                    @if (baseInfoObj.noteList.Count > 0) {
                        <MudListItem Icon="@Icons.Material.Filled.List" Text="Notes" InitiallyExpanded="false">
                            <NestedList>
                                @foreach (var text in baseInfoObj.noteList) {
                                    <MudListItem Icon="@Icons.Material.Filled.Label">
                                        @text
                                    </MudListItem>
                                }
                            </NestedList>
                        </MudListItem>
                    }
                    @if (baseInfoObj.aliasList.Count > 1) {
                        <MudListItem Icon="@Icons.Material.Filled.List" Text="Alias List" InitiallyExpanded="false">
                            <NestedList>
                                @foreach (var text in baseInfoObj.aliasList.
                                    Where(text => baseInfoObj.displayName != text)) {
                                    <MudListItem Icon="@Icons.Material.Filled.Label">
                                        @text
                                    </MudListItem>
                                }
                            </NestedList>
                        </MudListItem>
                    }
                    @if (baseInfoObj.noteList.Count > 1) {
                        <MudListItem Icon="@Icons.Material.Filled.List" Text="Additional URLs" InitiallyExpanded="false">
                            <NestedList>
                                @foreach (var text in baseInfoObj.urlList.
                                    Where(text => baseInfoObj.url != text)) {
                                    <MudListItem Icon="@Icons.Material.Filled.Link">
                                        <MudLink Href="@text" Target="_blank" Typo="Typo.body1">@text</MudLink>

                                    </MudListItem>
                                }
                            </NestedList>
                        </MudListItem>
                    }
                </MudList>
            </MudPaper>
        }
    </MudPaper>
}



@code {

    [Parameter]
    public BaseInfoObj? baseInfoObj { get; set; }
    
    [Parameter]
    public string objTitle { get; set; }

}